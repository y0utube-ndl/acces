<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Recherche Musique</title>
    <style>
        body { font-family: Arial; padding: 20px; }
        input { width: 300px; padding: 10px; }
        button { padding: 10px; }
        iframe { width: 100%; height: 400px; margin-top: 20px; display: none; }
    </style>
</head>
<body>

<h2>Recherche une musique :</h2>

<input type="text" id="song" placeholder="Nom de la musique">
<button onclick="search()">Rechercher</button>

<iframe id="player" allowfullscreen></iframe>

<script>
async function search() {
    let query = document.getElementById("song").value;

    // recherche sur DuckDuckGo
    let url = `https://duckduckgo.com/html/?q=${encodeURIComponent(query + " youtube")}`;

    let html = await (await fetch(url)).text();

    // on cherche le premier lien YouTube dans les résultats
    let match = html.match(/https:\/\/www\.youtube\.com\/watch\?v=[A-Za-z0-9_-]+/);

    if (!match) {
        alert("Aucune vidéo trouvée.");
        return;
    }

    let videoUrl = match[0];
    let videoId = videoUrl.split("v=")[1];

    let player = document.getElementById("player");
    player.style.display = "block";
    player.src = "https://www.youtube.com/embed/" + videoId;
}
</script>

</body>
</html>
